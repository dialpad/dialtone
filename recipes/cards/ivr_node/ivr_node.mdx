import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';

import * as IvrNodeStories from './ivr_node.stories';

<Meta of={IvrNodeStories}/>

# IVR Node

<Subtitle>
  IVR Node represents a step in the IVR Workflow configuration.
</Subtitle>

## Base Style

A node in IVR configuration has header and content. Header contains icon, label and three dot menu with card actions.
The base style contains a top connector indicator.

<Canvas>
  <Story of={IvrNodeStories.Default} />
</Canvas>

## Slots, Props & Events

<Controls />

## Usage

### Import

```jsx
import { DtRecipeIvrNode } from '@dialpad/dialtone-vue';
```

## Menu Node

A node in IVR configuration to configure DTMF types.

<Canvas>
    <Story of={IvrNodeStories.PromptMenu} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Menu"
  :node-type="promptmenu"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fw-bold">Menu prompt</p>
  <p class="d-fc-purple-700">americas_office-workflow_main-menu-2022--FINAL.mp3</p>
</dt-recipe-ivr-node>
```

## Collect Node

A node in IVR configuration to collect data like input, number, etc.

<Canvas>
    <Story of={IvrNodeStories.PromptCollect} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Collect"
  :node-type="promptcollect"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fw-bold">Collect prompt</p>
  <p class="d-fc-purple-700">americas_office-collect-menu-2022-FINAL.mp3</p>
</dt-recipe-ivr-node>
```

## Play Node

A node in IVR configuration to play media.

<Canvas>
    <Story of={IvrNodeStories.PromptPlay} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Play"
  :node-type="promptplay"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fc-purple-700">2022-Greeting.mp3</p>
</dt-recipe-ivr-node>
```

## Expert Node

A node in IVR used to integration DX expert view in iFrame to create complex flows.

<Canvas>
    <Story of={IvrNodeStories.Expert} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Expert"
  :node-type="gotoexpert"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fw-bold">Account Issues</p>
  <p>19 Nodes</p>
  <dt-button
    importance="clear"
    kind="muted"
    icon-position="right"
  >
    Launch Expert
    <template #icon>
      <dt-icon
        size="300"
        name="external-link"
      />
    </template>
  </dt-button>
</dt-recipe-ivr-node>
```

## Go-to Node

A node in IVR used to step to another workflow or step in a workflow.

<Canvas>
    <Story of={IvrNodeStories.GoTo} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Go to"
  :node-type="goto"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fw-bold">Go to</p>
  <p>Description</p>
</dt-recipe-ivr-node>
```

## Branch Node

A node in IVR used to step to another workflow or step in a workflow.

<Canvas>
    <Story of={NodeStories.Branch} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Branch"
  :node-type="branch"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fw-bold">Branch</p>
  <p>Description</p>
</dt-recipe-ivr-node>
```

## Transfer Node

A node in IVR used to transfer to person, department, call center, etc.

<Canvas>
    <Story of={IvrNodeStories.Transfer} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Transfer"
  :node-type="transfer"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <div class="d-d-flex d-ai-center d-gg8">
    <dt-avatar>
      <img data-qa="dt-avatar-image" src="static/common/assets/person.png" alt="Person Avatar">
    </dt-avatar>
    <p>Carolina Garcia Rodriguez</p>
  </div>
</dt-recipe-ivr-node>
```

## Hangup Node

A node in IVR used to terminate the call.

<Canvas>
    <Story of={IvrNodeStories.Hangup} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Hangup"
  :node-type="hangup"
  :drop-down-menu-items="items"
  :is-selected="false"
  :menu-button-label="'Node menu'"
>
  <p class="d-fw-bold">Hangup</p>
  <p>Description</p>
</dt-recipe-ivr-node>
```

## Node with a different top connector

A node in IVR like branch that has a condition instead of dtmf connector.

<Canvas>
  <Story of={IvrNodeStories.NodeWithTopConnector} />
</Canvas>

```html
<dt-recipe-ivr-node
  :node-label="Branch"
  :node-type="branch"
>
  <template #connector>
    <div class="ivr-connector d-px8 d-h24 d-bar-pill d-mbn12 d-fc-white d-fs-100">Add branch</div>
  </template>
</dt-recipe-ivr-node>
```
