import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';

import * as ToastStories from './toast.stories';

<Meta of={ToastStories}/>

# Toast

<Subtitle>
  A toast notice, sometimes called a snackbar, is a time-based message that appears based on users' actions.
  It contains at-a-glance information about outcomes and can be paired with actions.
</Subtitle>

## Base Style

<Canvas>
  <Story of={ToastStories.Default} />
</Canvas>

## Variants

### Error

<Canvas>
  <Story of={ToastStories.Error} />
</Canvas>

### Info

<Canvas>
  <Story of={ToastStories.Info} />
</Canvas>

### Success

<Canvas>
  <Story of={ToastStories.Success} />
</Canvas>

### Warning

<Canvas>
  <Story of={ToastStories.Warning} />
</Canvas>

### Important

<Canvas>
  <Story of={ToastStories.Important} />
</Canvas>

## Slots, Props & Events

<Controls />

## Accessibility

It is possible to include a screen reader visible only close button setting `visually-hidden-close`
and `visually-hidden-close-label` props.

`role="status"` is the default role attribute, and it's recommended to use this role unless you want to show an
error message where `role="alert"` will be valid. Take into account that if you invoke multiple toasts
with `role="alert"`, screen readers could override its speech queue and causes to miss a toast message.

## Usage

### Import

```jsx
import { DtToast } from '@dialpad/dialtone-vue';
```

### Events

`close` is fired when close button is clicked.

#### Example without self-positioning *

```html
<template>
  <button type="button" @click="openToast">Click to show!</button>
  <dt-toast
    :title="title"
    :message="message"
    v-model:show="isShown"
  ></dt-toast>
</template>

<script>
import { DtToast } from '@dialpad/dialtone-vue';

export default {
  components: { DtToast },
  data () {
    return {
      title: 'Title',
      message: 'Message body.'
      isShown: false,
    }
  },
}
</script>
```

* If you need to self-position the toast at the top center, use the `d-toast-wrapper` Dialtone class:

```html
<aside class="d-toast-wrapper">
  <dt-toast
    :title="title"
    :message="message"
    v-model:show="isShown"
  ></dt-toast>
</aside>
```

### With duration

It's recommended to use a time of at least 6000 ms (minimum duration validated in the component) to give users enough
time to read the toast. Take into account that the time necessary to read and comprehend the message could vary in
users.
For instance, users using assistive technology, or users with language barriers could potentially need more time to
read and understand the message.

```html
<dt-toast
  title="Title"
  message="Message"
  :duration="7500"
  :show.sync="isShown"
/>
```
