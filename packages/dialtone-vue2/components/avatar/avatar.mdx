import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';
import * as AvatarStories from './avatar.stories.js';

<Meta of={AvatarStories}/>

# Avatar

<Subtitle>
  An avatar is a visual representation of a user or object.
</Subtitle>

## Default

The Avatar component is designed to prioritize different sources for content display.
It will sequentially check for the availability of an image source `image-src` or an icon name `icon-name`.
If both properties are not provided, the avatar will extract and display initials from the full name `full-name`,
the resulting initials are extracted using the following logic:

- If the string contains two or more words, the result will be the first character of every word capitalized e.g.:
  - `full-name: "Jaqueline Nackos"` will result in: `JN`.
- If the string contains only one word, the result will be the first two characters capitalized e.g:
  - `full-name: "Jaqueline"` will result in: `JA`.
  - `full-name: "10"` will result in: `10`.
- If full-name is not provided, the result will be an empty string.

<Canvas>
  <Story of={AvatarStories.Default} />
</Canvas>

## Variants

<Canvas>
  <Story of={AvatarStories.Variants} />
</Canvas>

## Slots, Props & Events

<Controls />

## Usage

### Import

```jsx
import { DtAvatar } from '@dialpad/dialtone-vue';
```

### Image

If image-src is not provided, or if image fails to load, the avatar will fall back to the initials extracted from the full-name.
By default, alt attribute of the image will be the full-name, this can be overridden via image-alt prop.

```jsx
<dt-avatar
  full-name="Jaqueline Nackos"
  image-src="/common/assets/person.png"
  image-alt="Person avatar"
/>
```

### Icon

```jsx
<dt-avatar
  icon-name="person"
/>
```

### Initials

```jsx
<dt-avatar
  full-name="person"
/>
```

### Seeded

You may use a seed to make the randomly generated color be the same every time for that seed. This is useful
if you want users to always have the same color, just pass in their unique user ID as the seed.

```jsx
// Will always show the same colors for this seed.
<dt-avatar
  seed="X5G3D7D3DS3WL7"
/>
```

### With Size

```jsx
<dt-avatar
  size="xs | sm | md | lg | xl"
/>
```

### Clickable

If you need to create a clickable avatar you can set the `clickable` prop.
This will make the avatar a <button /> component, set some styling and will be navigable by keyboard.
In order for the clickable avatar to be accessible, you need to
either set `full-name`, `image-alt` or `aria-label` attributes.

```jsx
<dt-avatar
  aria-label="some aria label"
  icon="user"
  clickable
</
```
