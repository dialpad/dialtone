import { Canvas, Story, Subtitle, Controls, Meta } from '@storybook/blocks';

import * as ModalStories from './modal.stories';

<Meta of={ModalStories}/>

# Modal

<Subtitle>
  Modals focus the userâ€™s attention exclusively on one task or piece of information via a window that sits on top of the
  page content.
</Subtitle>

_Note: in Dialpad, you should use the `BaseModal` component, which is a wrapper around `DtModal` and integrates with the
existing Backbone overlays and provides the translated `closeButtonProps.ariaLabel` prop automatically. The rest of the
API is the same._

## Base Style

The typical modal will have a title and copy text to provide context to the user, often followed by a footer presenting
available actions.

<Canvas>
  <Story of={ModalStories.WithFooter} />
</Canvas>

## With fixed header and footer

This is the default behavior that adds the scroll automatically in the modal content and leaves the header and footer
fixed.

<Canvas>
  <Story of={ModalStories.WithFixedHeaderFooter} />
</Canvas>

## With banner

A modal with the banner at the top.

<Canvas>
  <Story of={ModalStories.WithBanner} />
</Canvas>

## Danger Style

A modal style for destructive or irreversible actions.

<Canvas>
  <Story of={ModalStories.WithDangerStyle} />
</Canvas>

## Full Size

To make this modal take up as much of the screen as possible.

<Canvas>
  <Story of={ModalStories.WithFullSize} />
</Canvas>

## Custom Header and Body Content

You're not limited to using plain title and copy text.

In addition to the footer, custom elements can be inserted into the header and body sections of the dialog via slots.

> **Please note:** supplied header or body slots will take the place of any provided "title" or "copy" text, respectively.

<Canvas>
  <Story of={ModalStories.WithCustomHeaderAndContent} />
</Canvas>

## Slots, Props & Events

<Controls />

## Accessibility

Modal uses ARIA `role="dialog"` so make sure to provide a recognizable name for the dialog using `labelledById` prop.
When the modal is open, it will trap the focus and will return to the button that triggered it when it closes.

It is possible to include a screen reader visible only close button setting `visually-hidden-close`
and `visually-hidden-close-label` props.

## Usage

### Import

```jsx
import { DtModal } from '@dialpad/dialtone-vue';
```

### With Props

```html
<dt-modal
  copy="Main dialog text, such as a description of available options or actions."
  title="Title for the dialog's header"
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
/>
```

### With Slotted Content (Default Slot)

```html
<dt-modal
  title="Title for the dialog's header"
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
>
  <div>Custom content</div>
</dt-modal>
```

### With Banner

#### Using prop

```html
<dt-modal
  title="Title for the dialog's header"
  banner-title="text to display in the modal's banner"
  copy="Main dialog text, such as a description of available options or actions."
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
>
</dt-modal>
```

Use the `banner-title` prop if you need to pass raw text, otherwise use the slotted version, for example for adding
an icon in the message.

#### Using slot

```html
<dt-modal
  title="Title for the dialog's header"
  copy="Main dialog text, such as a description of available options or actions."
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
>
  <template #banner>
    <div>
      <dt-icon name="clock" />
      <span>Time</span>
    </div>
  </template>
</dt-modal>
```

### With Slotted Content and Danger Style

```html
<dt-modal
  title="Title for the dialog's header"
  kind="danger"
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
>
  <div>Custom content</div>
</dt-modal>
```

### With Slotted Content and Full Size

```html
<dt-modal
  title="Title for the dialog's header"
  size="full"
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
>
  <div>Custom content</div>
</dt-modal>
```

### With Default Copy Text, Slotted Header and Footer

```html
<dt-modal
  copy="Main dialog text, such as a description of available options or actions."
  :close-button-props="{ ariaLabel: 'Close the dialog' }"
  :show.sync="showModal"
>
  <template #header>
    <div>Custom header</div>
  </template>
  <template #footer>
    <div>Confirm</div>
    <div>Cancel</div>
  </template>
</dt-modal>
```
